(this["webpackJsonpsd-0x-project-frontend-online-store"]=this["webpackJsonpsd-0x-project-frontend-online-store"]||[]).push([[0],{27:function(e,t,a){e.exports=a(44)},32:function(e,t,a){},33:function(e,t,a){},34:function(e,t,a){},44:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),c=a(23),l=a.n(c),i=(a(32),a(33),a(12)),o=a(2),u=a(4),s=a(5),d=a(8),m=a(7),p=a(6),h=(a(34),function(e){Object(m.a)(a,e);var t=Object(p.a)(a);function a(){var e;return Object(u.a)(this,a),(e=t.call(this)).handleClick=e.handleClick.bind(Object(d.a)(e)),e}return Object(s.a)(a,[{key:"handleClick",value:function(){var e=this.props.product;localStorage.setItem("productAdd",e.title)}},{key:"render",value:function(){var e=this.props.product,t=this.props.product,a=t.title,n=t.thumbnail,c=t.price,l=t.id;return r.a.createElement("div",null,r.a.createElement(i.b,{to:{pathname:"/details/".concat(l),state:e},"data-testid":"product-detail-link"},r.a.createElement("div",{"data-testid":"product",className:"card-list"},r.a.createElement("div",{className:"card-container"},r.a.createElement("h2",{className:"card-title"},a),r.a.createElement("img",{className:"card-image",src:n,alt:a}),r.a.createElement("p",{className:"card-price"},c)))),r.a.createElement("button",{type:"button","data-testid":"product-add-to-cart",onClick:this.handleClick},"Adicionar ao Carrinho"))}}]),a}(r.a.Component)),b=function(e){Object(m.a)(a,e);var t=Object(p.a)(a);function a(){return Object(u.a)(this,a),t.apply(this,arguments)}return Object(s.a)(a,[{key:"render",value:function(){var e=this.props.products;return r.a.createElement("div",{className:"card-list"},e.map((function(e){return r.a.createElement(h,{key:e.id,product:e})})))}}]),a}(r.a.Component),v=a(15),E=a.n(v),f=a(21);function y(){return(y=Object(f.a)(E.a.mark((function e(){var t,a;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"https://api.mercadolibre.com/sites/MLB/categories",e.next=3,fetch("https://api.mercadolibre.com/sites/MLB/categories");case 3:return t=e.sent,e.next=6,t.json();case 6:return a=e.sent,e.abrupt("return",a);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function j(e,t){return k.apply(this,arguments)}function k(){return(k=Object(f.a)(E.a.mark((function e(t,a){var n,r,c;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="https://api.mercadolibre.com/sites/MLB/search?category=".concat(t,"&q=").concat(a),e.next=3,fetch(n);case 3:return r=e.sent,e.next=6,r.json();case 6:return c=e.sent,e.abrupt("return",c);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var g=a(16),O=function(e){Object(m.a)(a,e);var t=Object(p.a)(a);function a(){return Object(u.a)(this,a),t.apply(this,arguments)}return Object(s.a)(a,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(i.b,{to:"/cart","data-testid":"shopping-cart-button"},r.a.createElement(g.a,null)))}}]),a}(r.a.Component),C=a(26),w=function(e){Object(m.a)(a,e);var t=Object(p.a)(a);function a(){var e;return Object(u.a)(this,a),(e=t.call(this)).state={categories:[],products:[]},e.handleClick=e.handleClick.bind(Object(d.a)(e)),e}return Object(s.a)(a,[{key:"componentDidMount",value:function(){var e=this;(function(){return y.apply(this,arguments)})().then((function(t){return e.setState({categories:Object(C.a)(t)})}))}},{key:"handleClick",value:function(e){var t=this;console.log(e.target.value),j(e.target.value).then((function(e){t.setState({products:e.results})}))}},{key:"render",value:function(){var e=this,t=this.state,a=t.categories,n=t.products;return r.a.createElement("div",null,0===n.length?a.map((function(t){var a=t.id,n=t.name;return r.a.createElement("label",{htmlFor:a,key:a},r.a.createElement("input",{id:a,type:"radio",onClick:e.handleClick,value:a,"data-testid":"category"}),n,r.a.createElement("br",null))})):r.a.createElement(b,{products:n}))}}]),a}(r.a.Component),x=function(e){Object(m.a)(a,e);var t=Object(p.a)(a);function a(){var e;return Object(u.a)(this,a),(e=t.call(this)).state={query:"",products:[]},e.getQueryValue=e.getQueryValue.bind(Object(d.a)(e)),e.handleClick=e.handleClick.bind(Object(d.a)(e)),e}return Object(s.a)(a,[{key:"handleClick",value:function(){var e=this;j(null,this.state.query).then((function(t){e.setState({products:t.results})}))}},{key:"getQueryValue",value:function(e){this.setState({query:e.target.value})}},{key:"render",value:function(){var e=this.state.query,t=this.state.products;return r.a.createElement("div",null,r.a.createElement("input",{type:"text","data-testid":"query-input",value:e,onChange:this.getQueryValue}),r.a.createElement(O,null),r.a.createElement("p",{"data-testid":"home-initial-message"},"Digite algum termo de pesquisa ou escolha uma categoria."),r.a.createElement("button",{type:"button","data-testid":"query-button",onClick:this.handleClick},"Buscar"),0===t.length?r.a.createElement("p",null,"Nenhum produto foi encontrado"):r.a.createElement(b,{products:t}),r.a.createElement(w,null))}}]),a}(r.a.Component),A=a(17),q=a(25),S=function(e){Object(m.a)(a,e);var t=Object(p.a)(a);function a(){var e;return Object(u.a)(this,a),(e=t.call(this)).state={productAdd:localStorage.getItem("productAdd")},e.renderProduct=e.renderProduct.bind(Object(d.a)(e)),e}return Object(s.a)(a,[{key:"renderProduct",value:function(){var e=this.state.productAdd;return r.a.createElement(r.a.Fragment,null,r.a.createElement("p",{"data-testid":"shopping-cart-product-name"},e),r.a.createElement("span",{"data-testid":"shopping-cart-product-quantity"},"1"))}},{key:"render",value:function(){var e=this.state.productAdd;return r.a.createElement("div",null,r.a.createElement(i.b,{to:"/"},r.a.createElement(A.a,null)),r.a.createElement("p",null,r.a.createElement(g.a,null),"Carrinho de compras"),r.a.createElement("span",null,r.a.createElement(q.a,null)),e?this.renderProduct():r.a.createElement("p",{"data-testid":"shopping-cart-empty-message"},"Seu carrinho est\xe1 vazio"))}}]),a}(r.a.Component),N=function(e){Object(m.a)(a,e);var t=Object(p.a)(a);function a(){return Object(u.a)(this,a),t.apply(this,arguments)}return Object(s.a)(a,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("h3",null,"Avalia\xe7\xf5es"),r.a.createElement("form",null,r.a.createElement("label",{htmlFor:"email"},r.a.createElement("input",{type:"text",id:"email",placeholder:"Email"})),r.a.createElement("label",{htmlFor:"mensagem"},r.a.createElement("textarea",{"data-testid":"product-detail-evaluation",name:"",id:"mensagem",cols:"30",rows:"10",placegolder:"Mensagem ()"})),r.a.createElement("button",{type:"submit"},"Avaliar")))}}]),a}(n.Component),B=function(e){Object(m.a)(a,e);var t=Object(p.a)(a);function a(){var e;return Object(u.a)(this,a),(e=t.call(this)).handleClick=e.handleClick.bind(Object(d.a)(e)),e}return Object(s.a)(a,[{key:"handleClick",value:function(){var e=this.props.location.state.title;localStorage.setItem("productAdd",e)}},{key:"render",value:function(){var e=this.props.location.state,t=e.title,a=e.thumbnail,n=e.price,c=e.attributes;return r.a.createElement("div",null,r.a.createElement("div",null,r.a.createElement("h2",{"data-testid":"product-detail-name"},t),r.a.createElement("img",{src:a,alt:""}),r.a.createElement("p",null,n),r.a.createElement("ul",null,c.map((function(e,t){return r.a.createElement("li",{key:t},e.name,": ",e.value_name)}))),r.a.createElement("button",{type:"button","data-testid":"product-detail-add-to-cart",onClick:this.handleClick},"Adicionar ao Carrinho"),r.a.createElement(O,null),r.a.createElement(i.b,{to:"/"},r.a.createElement(A.a,null))),r.a.createElement(N,null))}}]),a}(r.a.Component);var M=function(){return r.a.createElement(i.a,{basename:"."},r.a.createElement(o.a,{exact:!0,path:"/",component:x}),r.a.createElement(o.a,{path:"/cart",component:S}),r.a.createElement(o.a,{path:"/details/:id",component:B}))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(M,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[27,1,2]]]);
//# sourceMappingURL=main.5c23563d.chunk.js.map